<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HauntedSMP Season 6 Countdown</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --ice-blue: #00f2ff;
            --deep-blue: #050b14;
            --text-glow: 0 0 10px rgba(0, 242, 255, 0.5), 0 0 20px rgba(0, 242, 255, 0.3), 0 0 40px rgba(0, 242, 255, 0.1);
        }

        body {
            background-color: #000;
            color: #fff;
            font-family: 'Montserrat', sans-serif;
            overflow: hidden;
            margin: 0;
            padding: 0;
            height: 100vh;
            width: 100vw;
        }

        /* Cinematic Background */
        #bg-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        .vignette {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, transparent 0%, #000000 90%);
            z-index: 1;
            pointer-events: none;
        }

        .noise {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
            opacity: 0.07;
            z-index: 2;
            pointer-events: none;
        }

        /* Typography & Layout */
        .content-wrapper {
            position: relative;
            z-index: 10;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        h1 {
            font-family: 'Cinzel', serif;
            font-weight: 700;
            letter-spacing: 0.2em;
            text-shadow: var(--text-glow);
            text-transform: uppercase;
        }

        h2 {
            font-family: 'Cinzel', serif;
            letter-spacing: 0.5em;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Glassmorphism Timer Cards */
        .timer-container {
            display: flex;
            gap: 2rem;
            margin-top: 3rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .timer-card {
            background: rgba(5, 20, 40, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 242, 255, 0.1);
            padding: 2rem;
            border-radius: 4px;
            width: 140px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .timer-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--ice-blue), transparent);
            opacity: 0.5;
        }

        .timer-card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 242, 255, 0.3);
        }

        .timer-value {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            font-weight: 700;
            color: #fff;
            line-height: 1;
            text-shadow: 0 0 15px rgba(0, 242, 255, 0.4);
        }

        .timer-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: var(--ice-blue);
            margin-top: 0.5rem;
            opacity: 0.8;
        }

        /* Glitch Animation for text */
        @keyframes subtle-glitch {
            0% { opacity: 1; transform: translateX(0); }
            95% { opacity: 1; transform: translateX(0); }
            96% { opacity: 0.8; transform: translateX(-2px); }
            97% { opacity: 1; transform: translateX(2px); }
            98% { opacity: 0.9; transform: translateX(0); }
            100% { opacity: 1; transform: translateX(0); }
        }

        .glitch-text {
            animation: subtle-glitch 5s infinite;
        }

        /* Server Status Pill */
        .status-pill {
            margin-top: 4rem;
            padding: 0.5rem 1.5rem;
            border: 1px solid rgba(0, 242, 255, 0.2);
            border-radius: 9999px;
            font-size: 0.8rem;
            letter-spacing: 0.2em;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background-color: var(--ice-blue);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--ice-blue);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.4; box-shadow: 0 0 0px var(--ice-blue); }
            50% { opacity: 1; box-shadow: 0 0 15px var(--ice-blue); }
            100% { opacity: 0.4; box-shadow: 0 0 0px var(--ice-blue); }
        }

        /* Mute Button */
        .mute-button {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 50;
            background: rgba(5, 20, 40, 0.6);
            border: 1px solid var(--ice-blue);
            color: var(--ice-blue);
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-family: 'Cinzel', serif;
            text-transform: uppercase;
            font-size: 0.8rem;
            letter-spacing: 0.1em;
            backdrop-filter: blur(5px);
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .mute-button:hover {
            background: rgba(0, 242, 255, 0.1);
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.3);
            text-shadow: 0 0 5px var(--ice-blue);
        }

        .mute-button svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .timer-container { gap: 1rem; }
            .timer-card { width: 80px; padding: 1rem; }
            .timer-value { font-size: 2rem; }
            h1 { font-size: 2rem; }
            h2 { font-size: 0.8rem; letter-spacing: 0.3em; }
        }
    </style>
</head>
<body>

    <!-- Audio Elements -->
    <!-- Replace 'src' with your background music file -->
    <audio id="bg-music" loop>
        <source src="https://cdn.pixabay.com/audio/2025/12/31/audio_b0c58b7c23.mp3" type="audio/mpeg">
    </audio>

    <!-- Visual Layers -->
    <canvas id="bg-canvas"></canvas>
    <div class="vignette"></div>
    <div class="noise"></div>

    <!-- Mute Button -->
    <button id="mute-btn" class="mute-button">
        <span id="mute-icon">ðŸ”‡</span> <span id="mute-text">SOUND: OFF</span>
    </button>

    <!-- Main Content -->
    <div class="content-wrapper">
        <div class="mb-4">
            <h2 class="uppercase text-sm md:text-lg mb-2 text-cyan-200">Coming Soon...</h2>
        </div>

        <h1 class="text-4xl md:text-7xl mb-2 glitch-text text-white">Haunted<span class="text-cyan-400">SMP</span></h1>
        <h2 class="text-lg md:text-2xl font-light mb-10">Season 6 Launch</h2>

        <!-- Countdown -->
        <div class="timer-container" id="countdown">
            <div class="timer-card">
                <div class="timer-value" id="days">00</div>
                <div class="timer-label">Days</div>
            </div>
            <div class="timer-card">
                <div class="timer-value" id="hours">00</div>
                <div class="timer-label">Hours</div>
            </div>
            <div class="timer-card">
                <div class="timer-value" id="minutes">00</div>
                <div class="timer-label">Minutes</div>
            </div>
            <div class="timer-card">
                <div class="timer-value" id="seconds">00</div>
                <div class="timer-label">Seconds</div>
            </div>
        </div>

        <div class="status-pill">
            <div class="status-dot"></div>
            <span id="target-date-display">LAUNCH: FEB 7 â€¢ 19:00 CET</span>
        </div>
    </div>

    <script>
        // --- Audio System ---
        let audioContext = null;
        let isMuted = true;
        const bgMusic = document.getElementById('bg-music');
        const muteBtn = document.getElementById('mute-btn');
        const muteText = document.getElementById('mute-text');
        const muteIcon = document.getElementById('mute-icon');

        // Note: Browsers require user interaction to play audio.
        // We initialize audio context on the first click.
        function initAudio() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
        }

        // Synthesize a "Tick" sound using Web Audio API (No file needed)
        function playTickSound() {
            if (isMuted || !audioContext) return;

            const osc = audioContext.createOscillator();
            const gainNode = audioContext.createGain();

            osc.connect(gainNode);
            gainNode.connect(audioContext.destination);

            // High pitch, short duration "blip"
            osc.type = 'sine';
            osc.frequency.setValueAtTime(1200, audioContext.currentTime); // Start hz
            osc.frequency.exponentialRampToValueAtTime(800, audioContext.currentTime + 0.05); // Drop hz

            // Envelope (Fade out quickly)
            gainNode.gain.setValueAtTime(0.05, audioContext.currentTime); // Volume
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.05);

            osc.start();
            osc.stop(audioContext.currentTime + 0.05);
        }

        muteBtn.addEventListener('click', () => {
            initAudio();
            isMuted = !isMuted;

            if (isMuted) {
                bgMusic.pause();
                muteText.innerText = "SOUND: OFF";
                muteIcon.innerText = "ðŸ”‡";
                muteBtn.style.borderColor = "var(--ice-blue)";
            } else {
                bgMusic.volume = 0.3; // 30% volume for background
                bgMusic.play().catch(e => console.log("Audio play failed:", e));
                muteText.innerText = "SOUND: ON";
                muteIcon.innerText = "ðŸ”Š";
                muteBtn.style.borderColor = "#fff";
            }
        });


        // --- Particle System (Ice/Ash Effect) ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let width, height;
        let particles = [];

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        }

        class Particle {
            constructor() {
                this.reset();
                // Start scattered randomly
                this.y = Math.random() * height;
            }

            reset() {
                this.x = Math.random() * width;
                this.y = height + 10;
                // Upward floating with slight side drift
                this.vx = (Math.random() - 0.5) * 0.5;
                this.vy = -(Math.random() * 0.5 + 0.2); 
                this.size = Math.random() * 2 + 0.5;
                // Icy blue/white color
                this.alpha = Math.random() * 0.5 + 0.1;
                this.life = Math.random() * 100 + 100;
            }

            update() {
                this.x += this.vx;
                this.y += this.vy;
                this.life--;

                if (this.life <= 0 || this.y < -10) {
                    this.reset();
                }
            }

            draw() {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(180, 240, 255, ${this.alpha})`;
                // Blur for cinematic effect
                ctx.shadowBlur = 10;
                ctx.shadowColor = "rgba(0, 242, 255, 0.5)";
                ctx.fill();
                ctx.shadowBlur = 0; // Reset
            }
        }

        function initParticles() {
            particles = [];
            const particleCount = Math.min(window.innerWidth / 5, 150); // Responsive count
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle());
            }
        }

        function animateParticles() {
            // Dark gradient background paint
            const gradient = ctx.createLinearGradient(0, 0, 0, height);
            gradient.addColorStop(0, '#02050a');
            gradient.addColorStop(1, '#0a1525');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);

            particles.forEach(p => {
                p.update();
                p.draw();
            });
            requestAnimationFrame(animateParticles);
        }

        window.addEventListener('resize', () => {
            resize();
            initParticles();
        });

        resize();
        initParticles();
        animateParticles();


        // --- Countdown Logic (Target: Feb 7 19:00 CET) ---
        let lastSecond = -1;

        function updateCountdown() {
            const now = new Date();
            const currentYear = now.getFullYear();
            
            // Create date object for Feb 7, 19:00 CET (UTC+1)
            let targetDate = new Date(`${currentYear}-02-07T19:00:00+01:00`);

            // If the date has passed for this year, target next year
            if (now > targetDate) {
                 targetDate = new Date(`${currentYear + 1}-02-07T19:00:00+01:00`);
            }

            const diff = targetDate - now;

            if (diff <= 0) {
                // Launch Time Reached
                document.getElementById('countdown').innerHTML = '<div class="text-4xl md:text-6xl font-bold text-cyan-400 animate-pulse font-[Cinzel]">SERVER ONLINE</div>';
                document.getElementById('target-date-display').innerText = "PROTOCOL ENGAGED";
                document.querySelector('.status-dot').style.backgroundColor = "#00ff00";
                document.querySelector('.status-dot').style.boxShadow = "0 0 20px #00ff00";
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById('days').innerText = days < 10 ? '0' + days : days;
            document.getElementById('hours').innerText = hours < 10 ? '0' + hours : hours;
            document.getElementById('minutes').innerText = minutes < 10 ? '0' + minutes : minutes;
            document.getElementById('seconds').innerText = seconds < 10 ? '0' + seconds : seconds;

            // Trigger sound on second change
            if (seconds !== lastSecond) {
                if (lastSecond !== -1) { // Don't play on very first load to avoid glitch
                    playTickSound();
                }
                lastSecond = seconds;
            }
        }

        setInterval(updateCountdown, 1000);
        updateCountdown(); // Initial call
    </script>
</body>
</html>